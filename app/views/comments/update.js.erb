<% if !@comment.nil? and !@comment.errors.any? %>
  $('#comment-<%=@comment.id%> .comment-remove').css('display', 'block');
  $('#comment-<%=@comment.id%> .comment-edit').css('display', 'block');

  $('#comment-<%=@comment.id%> .comment-content').html("<%= escape_javascript render(:partial => '/comments/comment_content', :locals => { :@comment => @comment }) %>");


  // toastr flash messages
  toastr.options = {
    "closeButton": false,
    "debug": false,
    "newestOnTop": false,
    "progressBar": true,
    "positionClass": "toast-top-left",
    "preventDuplicates": false,
    "onclick": null,
    "showDuration": "300",
    "hideDuration": "1000",
    "timeOut": "8000",
    "extendedTimeOut": "1000",
    "showEasing": "swing",
    "hideEasing": "linear",
    "showMethod": "fadeIn",
    "hideMethod": "fadeOut"
  }

  var $toastContent = $('<span>Comment was successfully updated.</span>');
  toastr.info($toastContent);

  $comment = $('#comment-content-<%= @comment.id %>');
  setTimeout(function() {
	  MathJax.Hub.Queue(["Typeset", MathJax.Hub, $comment[0]]);
  } ,500);


<% else %>
  $('#comment-form-<%=@comment.id%>').prepend("<%= escape_javascript render(:partial => '/shared/error_messages', :locals => { :@comment => @comment }) %>");

<% end %>
