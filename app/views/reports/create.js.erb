<% if @flag_error.empty? %>
  <% if @report.errors.any? %>
    $('#reportModal #report-form #error_explanation').remove();
    $('#reportModal #report-form').prepend("<%= error_message(@report.errors.full_messages.first) %>");
  <% else %>
     $('#reportModal').modal('toggle');

    // toastr flash messages
    toastr.options = {
      "closeButton": false,
      "debug": false,
      "newestOnTop": false,
      "progressBar": true,
      "positionClass": "toast-top-left",
      "preventDuplicates": false,
      "onclick": null,
      "showDuration": "300",
      "hideDuration": "1000",
      "timeOut": "8000",
      "extendedTimeOut": "1000",
      "showEasing": "swing",
      "hideEasing": "linear",
      "showMethod": "fadeIn",
      "hideMethod": "fadeOut"
    }

    var $toastContent = $('<span><%=@report.reportable_type%> has been reported.</span>');
    toastr.info($toastContent);

  <% end %>
<% else %>
  $('#reportModal #report-form #error_explanation').remove();
  $('#reportModal  #report-form').prepend("<%= escape_javascript render(:partial => '/shared/error_messages', :locals => { :@error => @flag_error }) %>");
<% end %>
