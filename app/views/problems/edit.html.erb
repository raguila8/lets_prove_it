<%= render 'shared/preview' %>

<div class="contact-3" id="edit-problem-page">
  <div class="container">
    <div class="row">
      <div class="col-md-12 col-lg-1 col-lg-10">
        <div class="form-wrapper">
          <div class="from-header">
					  <h2>Edit Problem</h2>
					
					  <p>Duis dapibus aliquam mi, eget euismod sem scelerisque ut. Vivamus at elit quis urna adipiscing iaculis. Curabitur vitae velit in neque dictum blandit. Proin in iaculis neque.</p>
					</div>

					<%= form_with(model: @problem, local: true, id: "problem-form") do |form| %>
            <%= render 'shared/error_messages' %>
            <%= form.hidden_field :tags, value: @problem.topics.map{|t| t.name}.join(","), id: "problem-tags" %>
            <%= form.hidden_field :images, value: "#{@new_images}", id: "new-images" %>
            <div class="form-group">
              <%= form.label :title, "Problem Title *" %>
              <%= form.text_field :title, class: "form-control" %>
            </div> 

            <div class="form-group" id="problem-topics-data" data-topics="<%=@problem.topics.map{|t| t.name}.join(",")%>">
              <label for="topic_name">Topics *</label>
              <input class="form-control" type="text" name="topic[name]" id="topics-input" data-provide="typeahead">
            </div>

            <div class="form-group">
              <%= form.label :content, "body *" %>
              <%= form.hidden_field :content, value: @problem.content, class: "mb-20 form-control", id: "problem_content" %>
              <trix-editor input="problem_content"></trix-editor>
            </div>

            <div class="form-group">
              <%= label_tag "version[description]", "What are you changing? *" %>
              <%= text_area_tag "version[description]", nil, class: "mb-20 form-control" %>
              <span class="pull-right"><a target="_blank" href="/mathjax_cheatsheet" class="grey-link"><span class="glyphicon glyphicon-info-sign"></span> Math Formatting</a></span>
            </div>

            <!-- Action Buttons -->
            <div class="form-group">
              <span class="btn mb-5 btn-mult btn-ghost mr-5 preview-btn" data-toggle="modal" data-target="#preview-modal">Preview</span>
              <%= form.submit "Submit", class: "btn mb-5 btn-mult", style: "display: inline-block; margin-top: 0;" %>
            </div>
          <% end %>
        </div><!-- / .form-wrapper -->
      </div><!-- / .col-md-12 -->
    </div><!-- / .row --> 
  </div><!-- / .container -->
</div><!-- / .contact-3 -->
