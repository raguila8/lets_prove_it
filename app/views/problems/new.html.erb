<%#= render 'shared/preview' %>

<div class="container">
  <ul class="multi-step-bar">
    <li class="headerFont active" data-open='true'>Title</li>
    <li class='headerFont' data-open='false'>Tags</li>
    <li class='headerFont' data-open='false'>Problem</li>
    <li class='headerFont' data-open='false'>Review</li>
  </ul>

  <div class="row">
    <div class="col-md-12 col-lg-offset-1 col-lg-10">
      <div class="problem-form-wrapper">
        
        <div class="step-meta">
			    <h2>Write a title that summarizes the problem</h2>
					
				  <p>The title is the first thing that users will see. It should help them quickly understand what the problem is about.</p>

          <div class='light-grey-card'>
            <h4 class='bodyFont'>
              Here are some tips for making a good title:
            </h4>
 
            <ul>
              <li>
                If the theorem has a name make that your title. Sum up your entire 
                problem in one sentence. Include details that will help people identify 
                and solve your problem. Include any constraints or variants to your 
                problem that make it different from similar problems already on the site. 
              </li>
              <li>
                Spelling, grammar and punctuation are important! Make sure you proof-read 
                it or have someone proof-read it for you if your english is not good.
              </li>
              <li>
                Write the title last if you are having trouble summarizing the problem. 
                Sometimes writing the problem first can make it easier for you to 
                describe the problem.
              </li>
            </ul>
          </div>
				</div>
          
				<%= form_with(model: @problem, local: true, id: "problem-form") do |form| %>
          <%= render 'shared/error_messages' %>
          <%= form.hidden_field :tags, value: "", id: "problem-tags" %>
          <%= form.hidden_field :images, value: "#{@new_images}", id: "new-images" %>
          <div class="form-group title-form-group show">
            <%= form.label :title, "Problem Title *" %>
            <div class='input-container title-input-container'>
              <%= form.text_field :title, class: "form-control", placeholder: "What's your problem's title?", required: true, minlength: 10, maxlength: 255  %>
            </div>
          </div> 

          <div class="form-group tags-form-group">
            <label for="topic_name">Topics *</label>
            <div id='tags-input-container'>

            </div>
						<!--
            <input class="form-control" type="text" name="topic[name]" id="topics-input" autocomplete="off">
						-->
          </div>

          <div class="form-group">
            <%= form.label :content, "body *" %>
            <%= form.hidden_field :content, class: "mb-20 form-control", id: "problem_content" %>
            <trix-editor input="problem_content" class="form-control" ></trix-editor>
            <span class="pull-right"><a target="_blank" href="/mathjax_cheatsheet" class="grey-link"><span class="glyphicon glyphicon-info-sign"></span> Math Formatting</a></span>
          </div>

          <!-- Action Buttons -->
          <div class="form-group">
            <span class="btn btn-ghost btn-mult mr-5 mb-5 preview-btn" data-toggle="modal" data-target="#preview-modal">Preview</span>
            <%= form.submit "Submit", class: "btn btn-mult mb-5", style: "display: inline-block; margin-top: 0;" %>
          </div>
        <% end %>
        <div class='form-nav mt-30'>
          <span class="btn mb-5 ml-15 floatRight btn-next" disabled>Next</span>
          <span class="btn btn-light mb-5 floatRight" data-nav='previous'>Previous</span>
        </div>

      </div><!-- / .form-wrapper -->
    </div><!-- / .col-md-12 -->             
  </div><!-- / .row -->
</div><!-- .container -->
